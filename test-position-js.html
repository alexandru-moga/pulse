<!DOCTYPE html>
<html>
<head>
    <title>Position Test</title>
</head>
<body>
    <h2>Testing Position Handling</h2>
    <div id="results"></div>
    
    <script>
    function testPositionHandling() {
        const testCases = [
            { name: 'null', value: null },
            { name: 'undefined', value: undefined },
            { name: 'end string', value: 'end' },
            { name: 'empty string', value: '' },
            { name: 'valid number', value: 5 },
            { name: 'string number', value: '3' }
        ];
        
        let results = '<h3>JavaScript Position Conversion Test</h3><pre>';
        
        testCases.forEach(testCase => {
            let position = testCase.value;
            results += `Testing: ${testCase.name} (${JSON.stringify(position)})\n`;
            
            // Apply the same logic as in drag-drop-builder.js
            if (position === 'end' || position === '' || position === undefined) {
                position = null;
            }
            
            results += `  Result: ${JSON.stringify(position)}\n`;
            results += `  Will be sent to server: ${position !== null ? 'YES' : 'NO'}\n\n`;
        });
        
        results += '</pre>';
        document.getElementById('results').innerHTML = results;
    }
    
    // Run test when page loads
    testPositionHandling();
    </script>
</body>
</html>
